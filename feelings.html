---
layout: basic
title: XRP Feelings
class: landing
---
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Playpen+Sans:wght@700&display=swap" rel="stylesheet">

<style>
body {
  margin: 0;
  background: transparent;
  display: grid;
  /* padding: 0 1rem; */
}
html {
  background: black;
  color: white;
  display: grid;
  place-items: center;
  height: 100vh;
  height: 100dvh;
  font-family: 'Playpen Sans', sans-serif;
  #price {
    font-size: clamp(6rem, 2rem + 16vw, 9rem);
  }
  .image {
    width: 100%;
    max-width: 40rem;
    aspect-ratio: 1 / 1;
    background: rgba(0, 0, 0, .2) url("https://assets.codepen.io/130015/feelings.png");
    border-radius: 1rem;
    background-repeat: no-repeat;
    background-size: auto 100%;
    background-position-x: 0;
  }
  &.is-extra-red {
    background: red;
    .image {
      background-position: 16.66%;
    }
  }
  &.is-more-red {
    background: red;
    .image {
      background-position: 33.33%;
    }
  }
  &.is-red {
    background: red;
    .image {
      background-position: 50%;
    }
  }
  &.is-green {
    background: #2cc466;
    .image {
      background-position: 66.33%;
    }
  }
  &.is-more-green {
    background: #13e363;
    .image {
      background-position: 83.33%;
    }
  }
  &.is-extra-green {
    background: #2cc466;
    .image {
      background-position: 100%;
    }
  }
 
}
</style>


<div id="price-wrap"> 
    <div class="image"></div> 
    <div id="price"></div> 
</div>

<script>
    function fetchXRPPrice() {
  fetch('https://api.coingecko.com/api/v3/coins/ripple/market_chart?vs_currency=usd&days=1')
    .then(response => response.json())
    .then(data => {
      const priceData = data.prices;
      const currentPrice = priceData[priceData.length - 1][1];
      const previousPrice = priceData[0][1];

      // Calculate the percentage change
      const priceChangePercentage = ((currentPrice - previousPrice) / previousPrice) * 100;

      // Get the #price-wrap element
      const priceWrapElement = document.querySelector("html");

      // Get the #price element
      const priceElement = document.getElementById("price");

      // Remove all classes from #price-wrap
      priceWrapElement.classList.remove("is-green", "is-red", "is-more-green", "is-more-red", "is-extra-green", "is-extra-red");

      // Remove the previous content from #price
      priceElement.textContent = '';

      // Determine the class to apply
      if (priceChangePercentage > 5) {
        // Price has gone up more than 5%
        priceWrapElement.classList.add("is-extra-green");
      } else if (priceChangePercentage < -5) {
        // Price has gone down more than 5%
        priceWrapElement.classList.add("is-extra-red");
      } else if (priceChangePercentage > 2) {
        // Price has gone up more than 2%
        priceWrapElement.classList.add("is-more-green");
      } else if (priceChangePercentage < -2) {
        // Price has gone down more than 2%
        priceWrapElement.classList.add("is-more-red");
      } else if (priceChangePercentage > 1) {
        // Price has gone up more than 1%
        priceWrapElement.classList.add("is-green");
      } else if (priceChangePercentage < -1) {
        // Price has gone down more than 1%
        priceWrapElement.classList.add("is-red");
      }

      priceElement.textContent = currentPrice.toFixed(3);
    })
    .catch(error => {
      console.error('Error fetching XRP price:', error);
    });
}
fetchXRPPrice();
setInterval(fetchXRPPrice, 60000); 

</script>